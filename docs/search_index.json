[["index.html", "An Incomplete Accounting of my Masters Thesis Research Thus Far Chapter 1 About 1.1 Usage 1.2 Render book 1.3 Preview book", " An Incomplete Accounting of my Masters Thesis Research Thus Far Quinn Miller 2022-04-04 Chapter 1 About The western United States is seeing an increase in catastrophic wildfire in virtually all climate types and across a broad range of elevations. Many of these fires burn in forested headwaters that communities rely on for water supply, underscoring the need for a greater understanding of how fire changes streamflow timing and magnitude. Though many studies have examined the hydrologic response to fire, the site-specific nature of this type of research has made it difficult to generalize findings. The 2020 Cameron Peak fire in Colorado burned across a broad elevation gradient, making it an ideal case study for examining how the post-fire impact to streamflow generation varies with temperature, aridity, and seasonal snow cover. We selected three watershedsunburned, partially burned, and severely burnedin each of two snow zones: the high-elevation persistent snow zone, and the mid-elevation intermittent snow zone. These watersheds were instrumented to monitor snow accumulation and ablation, rainfall, and stream discharge throughout water year 2021. We compared streamflow responses to rainfall and snowmelt between watersheds to evaluate how burning affected runoff. At high elevations, snowmelt runoff began earlier in the burned watersheds, which experienced greater total flow and lower base flows compared to the unburned watershed. The results were similar for the low elevation sites, though less pronounced for snowmelt runoff. At all elevations, streamflow at the burned sites was more responsive to rainfall, with the low elevation sites exhibiting a much more rapid rise to peak discharge than the high elevation sites. The results demonstrate that the streamflow responses to fire vary between snow zones, indicating a need to account for elevation and snow persistence in post-fire risk assessments. 1.1 Usage Each bookdown chapter is an .Rmd file, and each .Rmd file can contain one (and only one) chapter. A chapter must start with a first-level heading: # A good chapter, and can contain one (and only one) first-level heading. Use second-level and higher headings within chapters like: ## A short section or ### An even shorter section. The index.Rmd file is required, and is also your first book chapter. It will be the homepage when you render the book. 1.2 Render book You can render the HTML version of this example book without changing anything: Find the Build pane in the RStudio IDE, and Click on Build Book, then select your output format, or select All formats if youd like to use multiple formats from the same book source files. Or build the book from the R console: bookdown::render_book() To render this example to PDF as a bookdown::pdf_book, youll need to install XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): https://yihui.org/tinytex/. 1.3 Preview book As you work, you may start a local server to live preview this HTML book. This preview will update as you edit the book when you save individual .Rmd files. You can start the server in a work session by using the RStudio add-in Preview book, or from the R console: bookdown::serve_book() "],["methods.html", "Chapter 2 Methods 2.1 Site Description", " Chapter 2 Methods In each of our study watersheds we collected precipitation data using a tipping bucket rain gauge and continuous stream depth using either a capacitance rod or pressure transducer. We also measured stream discharge monthly from April to November 2021. When measuring discharge, we recorded stream stage manually in order to calibrate the sensor data (Fig. 2.1) Figure 2.1: Left: Blue Lake 4 (a tributary to Blue Lake) in June 2021. Right: Staff plate for manual stream stage measurement 2.1 Site Description For this class report, I will consider two of my field sites Blue Lake 4 and Michigan Ditch (Table 2.1). In chapter 4, I will compare our data collection at the Michigan Ditch tributary to the data collected at the nearby USGS Michigan River gage. Table 2.1: Properties of the watersheds in this study Watershed Slope Aspect Elevation (m) Area (sq.km) Snow Zone Burn Status Bighorn 19 SE 2987.988 3.396600 intermittent unburned Washout 33 E/SE 2455.392 2.695772 intermittent partially burned Dry 18 E/SE 2753.429 2.520000 intermittent severely burned Michigan Ditch 19 W/SW 3462.576 1.359900 persistent unburned Montgomery 8 E/SE 3070.066 1.887741 persistent partially burned Blue Lake 4 13 E/NE 3065.140 0.999655 persistent severely burned An unnumbered section Chapters and sections are numbered by default. To un-number a heading, add a {.unnumbered} or the shorter {-} at the end of the heading, like in this section. "],["data-processing.html", "Chapter 3 Data Processing 3.1 Precipitation 3.2 Stream Stage 3.3 Discharge 3.4 Chapters and sub-chapters 3.5 Captioned figures and tables", " Chapter 3 Data Processing The goal is to compare rainfall and discharge data in order to compute the following metrics: 1) total quantity of response flow, 2) magnitude of peak response discharge, 3) duration of response, 4) lag to peak time (start time of storm to time of peak discharge), and 5) runoff ratio (depth of Q (mm) divided by the depth of rainfall (mm) for the rain storm associated with the runoff response). 3.1 Precipitation Before starting this analysis, I identified discrete rainfall events from the tipping bucket rain gauge output using the USDA Rainfall Intensity Summarization Tool (RIST; (ARS 2013)). RIST calculated the following metrics for each event: storm duration (hrs), rain depth (mm); maximum intensity (mm h1) over 5-, 15-, 30-, and 60-min intervals; and erosivity. Because the stage data is recorded every 15 minutes, Im using the start time of the maximum intensity 15 minute interval as the storm start time. The function below formats the RIST output into the form I want. #function to read in rain files rain_reader &lt;- function(rain_file){ df &lt;-read.delim(rain_file, sep = &quot;&quot;, header = TRUE) %&gt;% select(-c(1,3:7)) } #function to process the storm output rain_format &lt;- function(rain_file){ df&lt;- rain_file %&gt;% select(Max_15_start_date, Max_15_start_time, Precip.in.) %&gt;% rename(date =1, time=2, p_in =3) %&gt;% mutate(datetime = paste(date, time, sep = &quot; &quot;)) %&gt;% filter(!(p_in ==0)) %&gt;% mutate(p_mm = p_in*25.4) %&gt;% mutate(DateTime = mdy_hms(datetime, tz = &quot;GMT&quot;)) } #read in and format michigan ditch and bl4 rain data mich_rain &lt;- rain_reader(&quot;raw_sitedata/michiganditch/michigan_storm.txt&quot;) bl4_rain &lt;- rain_reader(&quot;raw_sitedata/bl4/bl4_storm.csv&quot;) mich_storm &lt;- rain_format(mich_rain) bl4_storm &lt;- rain_format(bl4_rain) 3.2 Stream Stage Michigan Ditch stream stage was recorded by a pressure transducer that doesnt take into account atmospheric pressure, so the data needs to be corrected using barometic data. The continuous stage data is then calibrated according to the manual stage measurements. #read in pt data michiganditch_stage_pt=read_csv(&#39;raw_sitedata/michiganditch/michiganditch_stage_composite_pt.csv&#39;, show_col_types = FALSE) %&gt;% rename(Pw_kPa = 3) michiganditch_stage_pt$DateTime = as_datetime(michiganditch_stage_pt$datetime,tz=&quot;GMT&quot;, format=&quot;%m/%d/%Y %H:%M&quot;) #read in baro data michiganditch_baro=read_csv(&#39;raw_sitedata/michiganditch/michiganditch_baro_composite.csv&#39;, show_col_types = FALSE) %&gt;% filter(!is.na(Pressure_kPa)) %&gt;% rename(Pa_kPa = 2) michiganditch_baro$DateTime = as_datetime(michiganditch_baro$datetime,tz=&quot;GMT&quot;, format=&quot;%m/%d/%Y %H:%M&quot;) #join pt and baro and convert to stage in cm mich_stage = full_join(michiganditch_baro, michiganditch_stage_pt, by=&quot;DateTime&quot;,all=TRUE) %&gt;% mutate(stage_kPa = Pw_kPa - Pa_kPa) %&gt;% mutate(stage_cm = (stage_kPa*101.97162129779)/10) %&gt;% select(DateTime, stage_cm) #read in file with manual stage measurements discharge_michiganditch=read_csv(&#39;raw_sitedata/michiganditch/discharge_michiganditch.csv&#39;, show_col_types = FALSE) discharge_michiganditch$DateTime = as.POSIXct(discharge_michiganditch$datetime,tz=&quot;GMT&quot;,format=&quot;%m/%d/%Y %H&quot;) #merge the manual discharge measurements with the sensor time series michditch_stage=full_join(mich_stage,discharge_michiganditch,by=&#39;DateTime&#39;) %&gt;% select(1,2,7,9) #correct stage based on manual stage measurements michditch_stage&lt;-mutate(michditch_stage, stage_corr_cm = stage_cm) #offset adjust michditch_stage$stage_corr_cm=ifelse(michditch_stage$DateTime &gt;ymd_hms(&#39;2021-06-21 10:30:00&#39;), michditch_stage$stage_corr_cm-1,michditch_stage$stage_corr_cm) michditch_stage$stage_corr_cm=ifelse(michditch_stage$DateTime&gt;ymd_hms(&#39;2021-08-05 11:00:00&#39;), michditch_stage$stage_corr_cm-2.3,michditch_stage$stage_corr_cm) #delete sensor spikes michditch_stage &lt;- michditch_stage %&gt;% filter(!(DateTime &lt; ymd_hms(&quot;2021-01-10 09:30:00&quot;) | DateTime == ymd_hms(&quot;2021-06-21 09:45:00&quot;) | stage_corr_cm &lt;= 0)) #plot the sensor and manual stage time series michiganditch=ggplot()+ geom_line(data=michditch_stage,aes(x=DateTime,y=stage_corr_cm))+ geom_point(data=michditch_stage, aes(x=DateTime,y=manual_stage_cm),color=&#39;red&#39;)+ labs(x= &quot;Time&quot;, y= &quot;Stage (cm)&quot;) + theme_bw() ggplotly(michiganditch) Figure 3.1: Michigan Ditch stream stage. The red dots indicate manual stage measurements. 3.3 Discharge 3.4 Chapters and sub-chapters There are two steps to cross-reference any heading: Label the heading: # Hello world {#nice-label}. Leave the label off if you like the automated heading generated based on your heading title: for example, # Hello world = # Hello world {#hello-world}. To label an un-numbered heading, use: # Hello world {-#nice-label} or {# Hello world .unnumbered}. Next, reference the labeled heading anywhere in the text using \\@ref(nice-label); for example, please see Chapter ??. If you prefer text as the link instead of a numbered reference use: any text you want can go here. 3.5 Captioned figures and tables Figures and tables with captions can also be cross-referenced from elsewhere in your book using \\@ref(fig:chunk-label) and \\@ref(tab:chunk-label), respectively. See Figure 3.2. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 3.2: Here is a nice figure! Dont miss Table 3.1. knitr::kable( head(pressure, 10), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 3.1: Here is a nice table! temperature pressure 0 0.0002 20 0.0012 40 0.0060 60 0.0300 80 0.0900 100 0.2700 120 0.7500 140 1.8500 160 4.2000 180 8.8000 References "],["comparison-of-salt-dilution-to-usgs-gage.html", "Chapter 4 Comparison of Salt Dilution to USGS Gage", " Chapter 4 Comparison of Salt Dilution to USGS Gage You can add parts to organize one or more book chapters together. Parts can be inserted at the top of an .Rmd file, before the first-level chapter heading in that same file. Add a numbered part: # (PART) Act one {-} (followed by # A chapter) Add an unnumbered part: # (PART\\*) Act one {-} (followed by # A chapter) Add an appendix as a special kind of un-numbered part: # (APPENDIX) Other stuff {-} (followed by # A chapter). Chapters in an appendix are prepended with letters instead of numbers. "],["footnotes-and-citations.html", "Chapter 5 Footnotes and citations 5.1 Footnotes 5.2 Citations", " Chapter 5 Footnotes and citations 5.1 Footnotes Footnotes are put inside the square brackets after a caret ^[]. Like this one.1 5.2 Citations Reference items in your bibliography file(s) using @key. For example, we are using the bookdown package (Xie 2022) (check out the last code chunk in index.Rmd to see how this citation key was added) in this sample book, which was built on top of R Markdown and knitr (Xie 2015) (this citation was added manually in an external file book.bib). Note that the .bib files need to be listed in the index.Rmd with the YAML bibliography key. The RStudio Visual Markdown Editor can also make it easier to insert citations: https://rstudio.github.io/visual-markdown-editing/#/citations References "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
